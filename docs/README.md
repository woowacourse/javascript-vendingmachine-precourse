## 자판기

> 우아한테크코스 / 프리코스 3주차 미션 / 정인교

#### 📌Contents

- [폴더 구조](#folder)
- [구현 과정](#process)
- [구현할 기능 목록](#feature)

<br>

## <a name="folder"></a>폴더 구조

```sh
├── docs/README.md
├── src
│ ├── classes
│ │   ├── Coin.js                      # 이름에 따라 개수가 0개인 동전을 생성
│ │   └── Product.js                   # 이름/가격/개수에 따라 상품을 생성
│ ├── components
│ │   ├── charge
│ │   │    ├── ChargeContainer.js      # 잔돈 충전 컨테이너
│ │   │    ├── ChargeInput.js          # 잔돈 충전 입력하는 부분
│ │   │    └── ChargeTable.js          # 보유한 잔돈 현황 테이블 부분
│ │   ├── product
│ │   │    ├── ProductContainer.js     # 상품 관리 컨테이너
│ │   │    ├── ProductInput.js         # 상품 등록하는 부분
│ │   │    └── ProductTable.js         # 등록된 상품 현황 테이블 부분
│ │   └── purchase
│ │        ├── PurchaseContainer.js    # 상품 구매 컨테이너
│ │        ├── PurchaseInput.js        # 구매 금액을 입력하는 부분
│ │        ├── PurchaseTable.js        # 구매 가능한 상품 현황 테이블 부분
│ │        └── ReturnCoinTable.js      # 잔돈 반환과 결과를 나타내는 테이블 부분
│ ├── constants/index.js
│ ├── observer
│ │   ├── Event.js
│ │   └── State.js
│ ├── utils
│ │   ├── template
│ │   │    ├── chargeTemplate.js       # 잔돈 충전과 관련된 템플릿
│ │   │    ├── mainTemplate.js         # 초기 화면과 관련된 템플릿
│ │   │    ├── productTemplate.js      # 상품 관리와 관련된 템플릿
│ │   │    └── purchaseTemplate.js     # 상품 구매와 관련된 템플릿
│ │   ├── clearInput.js
│ │   ├── localStorage.js              # 로컬스토리지값을 얻거나 저장하는 함수
│ │   ├── makeCoinArray.js             # 동전을 배열로 반환하는 함수 모음
│ │   ├── selector.js                  # querySelector 단축 함수 모음
│ │   ├── tableStyle.js                # 테이블 스타일과 관련된 함수 모음
│ │   └── valid.js                     # 입력값을 검증하는 함수 모음
│ ├── App.js
│ └── index.js
└── index.html
```

<br>

## <a name="process"></a>구현 과정

- components 폴더를 만들고 기능에 따라 `product`(상품관리) /`charge`(잔돈충전) / `purchase`(상품구매)로 나누었습니다.
- 각 폴더 내부에 **Container(컨테이너)** 를 만들고 내부를 **Input(입력)** / **Table(테이블)** 로 나누었습니다.
- 컴포넌트에서 변경이 일어나면 다른 부분이 업데이트 되도록 이벤트 옵저버를 만들어서 추가하였습니다.
  - 잔돈 충전 후 Input(충전금액) -> Table로 알림
  - 상품 구매 후 Table -> Input(투입금액)으로 알림
  - 잔돈 반환 후 Table -> Input(투입금액)으로 알림

<br>

## <a name="feature"></a>구현할 기능 목록

#### 초기 설정

- [x] 세가지 메뉴 탭을 생성하기

#### 상품 관리

- [x] 상품명, 가격, 수량을 입력받는 기능 추가하기
- [x] 상품 입력을 검증하기
  - [x] 상품 가격이 100원이상이고, 10원으로 나누어 떨어지는지 확인하기
  - [x] 이름이 공백이 되지 않도록 확인하기
  - [x] 상품의 수량이 1이상이고 정수인지 확인하기
  - [x] 💥 같은 상품이 존재한다면? 👉 추가 불가
- [x] 상품 등록이 불가능하면 alert 경고창을 표시하기
- [x] 올바르게 입력하면 입력창을 초기화하기
- [x] 저장된 상품을 조회하는 테이블 추가
- [x] 추가한 상품을 localStorage에 저장하기
- [x] 추가한 상품을 테이블에 표시하기

#### 잔돈 충전

- [x] 잔돈 금액을 입력받는 기능 추가하기
- [x] 잔돈 입력을 검증하기
  - [x] 금액이 10원으로 나누어 떨어지는지 확인하기
- [x] 충전이 불가능하면 alert 경고창을 표시하기
- [x] 충전을 누르면 잔돈 금액에 맞게 무작위로 동전을 생성하기
- [x] 충전을 누르면 생성한 동전을 localStorage에 저장하기
- [x] 현재 자판기가 보유한 총 금액을 표시하기 (최초에는 빈값 표시)
- [x] 저장된 동전을 조회하는 테이블 추가하기
- [x] 충전을 누르면 자판기가 보유한 동전을 테이블에 표시하기

#### 상품 구매

- [x] 구매 금액을 입력받는 기능 추가하기
- [x] 구매 금액을 검증하기
  - [x] 구매 금액이 10원으로 나누어 떨어지는지 확인하기
- [x] 투입하기를 누르면 금액을 localStorage에 저장하기
- [x] 투입 금액을 표시하기
- [x] 구매할 수 있는 상품 현황 테이블을 표시하기
- [x] 구매 가능한 제품인지 검증하기
  - [x] 남은 금액이 부족한지 확인하기
- [x] 구매 불가능하면 alert 경고창을 표시하기
- [x] 구매 버튼을 누르면 상품의 개수를 차감하기
  - [x] 💥 남은 상품 개수가 0개가 된다면? 👉 로컬스토리지에서 상품 제거
- [x] 구매 버튼을 누르면 가격에 따라 투입 금액을 차감하기
- [x] 차감한 결과를 화면에 표시하기

#### 잔돈 반환

- [x] 잔돈 테이블을 추가하기 (최초에는 빈값 표시)
- [x] 반환 버튼을 누르면 보유한 동전의 최소 개수의 동전을 구하기
  - [ ] 💥 반환 가능한 동전이 없다면?
- [x] 최소 개수 동전을 잔돈 테이블에 표시하기
- [x] 반환한 금액만큼 투입 금액에서 차감하기
- [x] 반환한 동전에 맞게 자판기 보유 동전에서 차감하기
- [x] 차감한 금액을 화면에 표시하기
