<p align="middle" >
  <img width="200px;" src="https://github.com/woowacourse/javascript-vendingmachine-precourse/blob/main/images/beverage_icon.png?raw=true"/>
</p>
<h1 align="middle">자판기</h1>

## 🎯 구현할 기능 목록
> **bold**는 추가한 사항

### 0. `eslint` 적용
- `airbnb` 컨벤션 적용
- `MissionUtils`에서 발생하는 `no-undef` 의 예외처리

### 1. html template 작성
- 상단 고정 타이틀과 탭 메뉴에 해당하는 html작성
- 각 탭 메뉴에 해당하는 html작성

### 2. 상단 메뉴바
- 제목과 상단 탭을 html 템플릿을 이용해 고정적으로 노출
- 탭을 클릭했을 때, 각 기능에 맞는 view 렌더링
- 각 기능에 대한 이벤트리스너 추가, 테이블 갱신
- localstorage를 이용해 다른 택으로 이동했거나 새로고침해도 작업한 정보들을 유지

### 3. 상품 관리 탭
- 추가하기 클릭시 상품 정보를 `localStorage`에 저장
- 상품 현황 테이블 갱신
    - `localStorage`에 저장된 내역을 이용
    - 상품이 추가될 때 마다 행 추가
- 유효성 검사
    - 상품가격은 10의 배수이며 100 이상의 양의 정수
    - 수량은 1이상의 양의 정수
    - **상품명, 가격, 수량은 공백이 없야 함**
    - **중복된 상품명 등록 불가**
- `localStorage`를 갱신
    - 상품 추가시 상품에 대한 정보 갱신

### 4. 잔돈 충전 탭
- 충전하기 클릭시 충전 금액과 생성된 무작위 코인들을 `localStorage`에 갱신
- 충전 금액에 따라 동전을 무작위로 생성
    - [500, 100, 50, 10]의 동전 중 무작위로 선택 후 충전. 충전 금액에 도달할 때 까지 반복
    - 추가 충전 금액 또한 동전을 무작위로 생성하며, 기존 동전들에 더함
- 유효성 검사
    - 충전 금액은 1이상의 양의 정수여야 함
    - **충전 금액이 공백이 없어야 함**
- `localStorage`에 저장된 자판기가 보유한 금액과 동전 수를 출력

### 5. 상품 구매 탭
- 충전하기 클릭시 충전 금액을 `localStorage`에 갱신
- 구매하기 클릭시 `localStorage`정보의 상품 개수-1, 충전금액 -= 가격
- 반환하기를 클릭시 `localStorage` 내 충전 금액을 가능한 만큼 최소 동전으로 반환
- 유효성 검사
    - 투입한 금액은 10의 배수이며, 양의 정수
    - **투입한 금액이 공백이 없어야 함**
    - 구매한 상품이 충전 금액보다 크면 안됨
    - **수량이 0인 상품은 제거**

## 🔍 폴더구조

```plaintext
├── ...
├── index.html
├── .eslintrc.js // eslint 
├── docs
│   └── README.md
└── src
    ├── controller
    │   ├── index.js // 중앙 컨트롤러
    │   ├── addTab.js // 상품 추가 탭 컨트롤러
    │   ├── purchaseTab.js // 상품 구매 탭 컨트롤러
    │   ├── utils.js // 판별함수, alert message 관련 함수 모음
    │   └── vendingTab.js // 잔돈 충전 탭 컨트롤러
    ├── model
    │   ├── constants.js // 상수 모음
    │   ├── template.js // html template
    │   └── index.js // 모델
    ├── view
    │   └── index.js // ui로직, 
    └── index.js //초기 선언
```


<details>
<summary>회고</summary>
  
### 2021/12/09  
#### 수많은 id와 class, 어떻게 관리해야 유지보수가 편할까
미션을 받아보았을 때, 지난 미션과 다르게 id와 class의 선택자가 매우 늘어난 것이 한 눈에 들어왔다. 그래서 이를 어떻게 관리하면 좋을까 생각해봤다. 일단, js로 요소를 만들 때 기입해주는 방법은 최악이라 생각했다. 그 이유는 `1. 선택자 명이 바뀌게 될 경우 모든 파일에서 해당 부분을 찾아 수정해야 한다` `2. 여기저기 중구난방으로 선택자가 사용될 수 있다`. 그래서 고민끝에 내가 내린 결론은 이번 미션이 3개의 탭으로 나누어져 있으니, `키워드` 하나만 바꾸어서 선택자를 구분하게 하면 좋지 않을까였다. 그리고 이를 상수처럼 선언해두어서, 수정이 필요하게 된다면 선언해준 파일에서 수정해주기만 하면 된다. 이게 정답인지는 모르겠지만, 아직까지는 괜찮아 보인다. 다른 사람 코드를 살펴보면서 어떻게 했는지도 확인해봐야겠다.
  
#### 테이블 중복 줄이기
js로 테이블을 핸들링 하는 것이 생각보다 많은 코드 라인 수를 요구하고 복잡하다고 느꼈다. 이번 미션에서는 특히 각각의 탭에서 모두 table이 필요하기 때문에 절대적으로 중복 제거가 필요해보였다. 그래서 내가 일단 생각해본건, table과 header까지만 일단 템플릿화를 하는 것이었다. 그리고 table-row 코드도 작성해보면서 느낀 것은 이것도 잘만 하면 함께 템플릿화를 할 수 있을 것 같다는 것이었다. 일단 기능 구현을 마치고 이후에 리팩토링을 꼭 해봐야겠다.

#### readme를 자주 수정해주자
지난 미션에서는 오히려 자꾸 readme를 수정한 커밋 로그가 눈엣가시라고 생각하여 한 번에 readme를 꼼꼼히 작성하는 것에 초점을 두었는데, 이번 주차 피드백을 보니 내 생각이 크게 잘못 되었음을 깨달았다. readme는 항상 살아있는 문서이어야 한다는 말을 어디서 들은 것 같다. 처음부터 실수없이 프로그램을 설계하기란 불가능 하고, 생각치 못한 예외는 계속해서 나올 것이기에 그럴 때마다 바로바로 기록해두자.

  
### 2021/12/12
#### html 템플릿을 이용하자
html 생성을 js로만 핸들링하니 코드도 복잡해지고 길어진다. 템플릿을 불러와서 
  
### 2021/12/13
#### ui로직과 비즈니스 로직을 분리하자
input value를 초기화 하는 것, 테이블을 갱신하는 것 등 비즈니스 로직과 ui 로직을 분리하여 한 파일이 한 가지 일만 맡도록 작성하자. 이렇게 해야 비즈니스 로직 파일의 무게도 한층 덜 수 있고, 유지보수가 편리하다. 모델의 데이터 가공과 처리가 모델 내장 함수 안에서 끝나도록 설계하자. view가 controller를 모르게 하자.
  
</details>
